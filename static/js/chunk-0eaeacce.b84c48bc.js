(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0eaeacce"],{"0a49":function(e,t,a){var n=a("9b43"),i=a("626a"),o=a("4bf8"),r=a("9def"),s=a("cd1c");e.exports=function(e,t){var a=1==e,l=2==e,c=3==e,d=4==e,u=6==e,f=5==e||u,p=t||s;return function(t,s,m){for(var b,h,y=o(t),_=i(y),g=n(s,m,3),k=r(_.length),w=0,v=a?p(t,k):l?p(t,0):void 0;k>w;w++)if((f||w in _)&&(b=_[w],h=g(b,w,y),e))if(a)v[w]=h;else if(h)switch(e){case 3:return!0;case 5:return b;case 6:return w;case 2:v.push(b)}else if(d)return!1;return u?-1:c||d?d:v}}},"0f28":function(e,t,a){"use strict";function n(){var e="".concat(window.location.origin).concat("/prod-api","/up/img");return e}a.d(t,"a",(function(){return n}))},1169:function(e,t,a){var n=a("2d95");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"1dca":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"table-header header-fixed"},[e._m(0),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{staticStyle:{border:"1px solid #ccc",padding:"30px 15px","border-radius":"5px"},attrs:{span:8}},[a("div",{staticClass:"tag-group",staticStyle:{padding:"10px 0",display:"flex",flex:"1"}},[a("label",{staticStyle:{display:"inline-block",width:"10%",height:"28px","line-height":"28px","font-size":"13px",float:"left"}},[e._v("顶部热搜 ")]),e._v(" "),a("el-input",{staticStyle:{flex:"1",margin:"0 10px"},attrs:{placeholder:"顶部热搜","prefix-icon":"el-icon-search",readonly:"readonly"},model:{value:e.form.head,callback:function(t){e.$set(e.form,"head",t)},expression:"form.head"}}),e._v(" "),a("span",{staticStyle:{"margin-right":"7px"}},[a("el-button",{staticClass:"el-icon-edit",attrs:{type:"text",size:"mini"},on:{click:function(){return e.append(e.data)}}}),e._v(" "),a("el-button",{staticClass:"el-icon-error",attrs:{type:"text",size:"mini"},on:{click:function(){return e.append(e.data)}}}),e._v(" "),a("el-button",{staticClass:"el-icon-delete",attrs:{type:"text",size:"mini"},on:{click:function(){return e.remove(e.node,e.data)}}})],1)],1),e._v(" "),a("div",{staticClass:"tag-group",staticStyle:{padding:"5px 0","text-align":"right"}},[a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.onThBtnClick("keyword")}}},[e._v("\n                      新增热搜\n                  ")]),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.onThBtnClick("classifys")}}},[e._v("\n                      新增分类\n                  ")])],1),e._v(" "),a("div",{staticClass:"custom-tree-container"},[a("div",{staticClass:"block"},[a("el-tree",{attrs:{data:e.data,"show-checkbox":!1,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,indent:0},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,i=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(n.label))]),e._v(" "),a("span",[e._v("启用")]),e._v(" "),a("img",{staticStyle:{width:"30px","border-ridus":"5px"},attrs:{src:"https://bloodcity.oss-cn-beijing.aliyuncs.com/images/2020-06-16/a07b843975d509b1bb2290941fcaa611.jpg",alt:""}}),e._v(" "),a("span",[a("el-button",{staticClass:"el-icon-edit",attrs:{type:"text",size:"mini"},on:{click:function(){return e.append(i)}}}),e._v(" "),a("el-button",{staticClass:"el-icon-error",attrs:{type:"text",size:"mini"},on:{click:function(){return e.append(i)}}}),e._v(" "),a("el-button",{staticClass:"el-icon-delete",attrs:{type:"text",size:"mini"},on:{click:function(){return e.remove(n,i)}}})],1)])}}])})],1)])])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"textMap[dialogStatus]",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"350px"},attrs:{model:e.form,"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"热搜类型："}},[a("el-select",{staticStyle:{width:"350px"},attrs:{placeholder:"热搜类型"},on:{change:e.onChangeKw},model:{value:e.form.kw_types,callback:function(t){e.$set(e.form,"kw_types",t)},expression:"form.kw_types"}},[a("el-option",{attrs:{value:"head",label:"顶部热搜"}}),e._v(" "),a("el-option",{attrs:{value:"classifys",label:"关键字分类"}}),e._v(" "),a("el-option",{attrs:{value:"keyword",label:"关键字"}})],1)],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.label1,expression:"label1"}],attrs:{label:"关键字分类："}},[a("el-select",{staticStyle:{width:"350px"},attrs:{placeholder:"关键字分类"},model:{value:e.form.kw_classifys_id,callback:function(t){e.$set(e.form,"kw_classifys_id",t)},expression:"form.kw_classifys_id"}},e._l(e.classifysArray,(function(e){return a("el-option",{key:e.self_id,attrs:{value:e.self_id,label:e.keyword_name}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"关键字："}},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"关键字"},model:{value:e.form.keyword_name,callback:function(t){e.$set(e.form,"keyword_name",t)},expression:"form.keyword_name"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.label3,expression:"label3"}],attrs:{label:"ICON："}},[a("image-upload",{staticClass:"lable_img",attrs:{imageKey:"icon",showLimit:!1,limit:1,title:"",list:e.form.icon},on:{update:e.onImagesUpdate2}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.label3,expression:"label3"}],attrs:{label:"颜色："}},[a("el-color-picker",{attrs:{size:"mini"},model:{value:e.form.emphasis_flag,callback:function(t){e.$set(e.form,"emphasis_flag",t)},expression:"form.emphasis_flag"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.kw_on()}}},[e._v("提交")])],1)],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-space-between table-title-container"},[a("div",[e._v("搜索配置")])])}],o=(a("20d6"),a("6b54"),a("ade3")),r=a("cfba"),s=(a("23ba"),a("5f87")),l=a("8975"),c=a("c9d9"),d=a("0835"),u={name:"",components:{ImageUpload:d["a"]},data:function(){var e,t=[{id:1,label:"一级 1",children:[{id:4,label:"二级 1-1"}]},{id:2,label:"一级 2",children:[{id:5,label:"二级 2-1"},{id:6,label:"二级 2-2"}]},{id:3,label:"一级 3",children:[{id:7,label:"二级 3-1"},{id:8,label:"二级 3-2"}]}];return e={data:JSON.parse(JSON.stringify(t))},Object(o["a"])(e,"data",JSON.parse(JSON.stringify(t))),Object(o["a"])(e,"thButtonInfo",[]),Object(o["a"])(e,"list",null),Object(o["a"])(e,"listLoading",!0),Object(o["a"])(e,"dialogFormVisible",!1),Object(o["a"])(e,"groups",[]),Object(o["a"])(e,"dialogTitle",""),Object(o["a"])(e,"form",{group_code:this.group_code,self_id:null,keyword_name:null,kw_classifys_name:null,kw_classifys_id:null,kw_types:"head",color:null}),Object(o["a"])(e,"classifysArray",[]),Object(o["a"])(e,"icon",[]),Object(o["a"])(e,"label1",!1),Object(o["a"])(e,"label2",!1),Object(o["a"])(e,"label3",!1),e},created:function(){var e=this;this.form.group_code=this.$route.query.group_code,Object(r["d"])(this.form.group_code).then((function(t){e.classifysArray=t.data.kw_classifys,e.keyInfo=t.data.key_info.map((function(t){return t.images=e.form[t.key]?e.form[t.key]:[],t})),e.onChangeKw()}))},methods:{getList:function(){var e=this;this.listLoading=!0,fetchCompanyPage(this.listQuery).then((function(t){e.list=t.data.items,e.total=t.data.total,e.ewm_show=t.data.ewm_show,e.listLoading=!1}))},onFilter:function(){this.getList()},changeFlag:function(e,t){return Object(l["a"])(e,t.toString())},onThBtnClick:function(e){switch(this.dialogFormVisible=!0,console.log(e),e){case"keyword":this.form.kw_types;break;case"classifys":this.form.kw_types;break;default:this.form.kw_types;break}this.onChangeKw()},onRowBtnClick:function(e,t,a){var n=this;a.use_type==c["a"].ajax?"use_flag"==a.flag?changeCompanyUseFlag(e.self_id).then((function(t){e.use_flag=t.data.use_flag})):"delete_flag"==a.flag&&deleteCompany(e.self_id).then((function(e){n.$notify({title:"成功",message:e.msg,type:"success",duration:2e3}),n.list.splice(t,1)})):a.use_type==c["a"].wicket?this.handleCreate():a.use_type==c["a"].edit?this.$router.push({path:a.jump_url,query:{self_id:e.self_id,path_name:e.path_name,type:t}}):(a.use_type="pathway")&&this.$router.push({path:a.jump_url,query:{self_id:e.self_id}})},onImagesUpdate2:function(e){this.form.icon=e.images},append:function(e){var t={id:id++,label:"testtest",children:[]};e.children||this.$set(e,"children",[]),e.children.push(t)},remove:function(e,t){var a=e.parent,n=a.data.children||a.data,i=n.findIndex((function(e){return e.id===t.id}));n.splice(i,1)},renderContent:function(e,t){var a=this,n=t.node,i=t.data;t.store;return e("span",{class:"custom-tree-node"},[e("span",[n.label]),e("span",[e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return a.append(i)}}},["Append"]),e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return a.remove(n,i)}}},["Delete"])])])},uploadUrl:function(){var e="".concat(window.location.origin).concat("/prod-api","/up/execl");return e},uploadHeaders:function(){return{dtoken:Object(s["a"])()}},handlePreview:function(e){console.log(e)},handleRemove:function(e,t){},onSuccess:function(e,t,a){this.returnUrl=e.data.pathurl},onChangeKw:function(){switch(this.form.kw_types){case"head":this.label1=!1,this.label2=!1,this.label3=!1;break;case"classifys":this.label1=!1,this.label2=!0,this.label3=!0;break;default:this.label1=!0,this.label2=!1,this.label3=!0;break}},kw_on:function(){var e=this;if(this.form.group_code){var t={kw_type:this.form.kw_types,group_code:this.form.group_code,self_id:this.form.self_id,keyword_name:this.form.keyword_name,img:this.form.icon,kw_classifys_id:this.form.kw_classifys_id,kw_classifys_name:this.form.kw_classifys_name,emphasis_flag:this.form.color};Object(r["a"])(t).then((function(t){e.$message({message:t.msg,type:"success",center:!0}),setTimeout((function(){e.dialogFormVisible=!1}),1e3)})).catch((function(t){e.$message({showClose:!0,dangerouslyUseHTMLString:!0,message:t,type:"error",center:!0,duration:0})}))}else this.$message({message:"请选择公司",type:"warning",center:!0})}}},f=u,p=(a("a3c7"),a("f9b7"),a("2877")),m=Object(p["a"])(f,n,i,!1,null,null,null);t["default"]=m.exports},"20d6":function(e,t,a){"use strict";var n=a("5ca1"),i=a("0a49")(6),o="findIndex",r=!0;o in[]&&Array(1)[o]((function(){r=!1})),n(n.P+n.F*r,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(o)},"23ba":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("b775");function i(e){return Object(n["a"])({url:"company/company/getGroup",method:"get",params:e})}},3039:function(e,t,a){},8975:function(e,t,a){"use strict";function n(e,t){var a="";switch(t){case"1":switch(e){case"Y":a="<font color='green'>启用</font>";break;case"N":a="<font color='red'>禁用</font>";break}break;case"2":switch(e){case"Y":a="<font color='green'>启用</font>";break;case"N":a="<font color='red'>禁用</font>";break}break;case"3":switch(e){case"Y":a="<font color='green'>启用</font>";break;case"N":a="<font color='red'>禁用</font>";break;case"W":a="<font color='red'>待审核</font>";break;case"X":a="<font color='red'>审核未通过</font>";break}break;case"4":switch(e){case"Y":a="<font color='green'>启用</font>";break;case"N":a="<font color='red'>禁用</font>";break}break;case"5":switch(e){case"Y":a="<font color='green'>启用</font>";break;case"N":a="<font color='red'>禁用</font>";break}break;case"6":switch(e){case"Y":a="<font color='green'>可以</font>";break;case"N":a="<font color='red'>不可以</font>";break}break;case"7":switch(e){case"Y":a="<font color='green'>启用</font>";break;case"N":a="<font color='red'>禁用</font>";break}break}return a}a.d(t,"a",(function(){return n}))},a3c7:function(e,t,a){"use strict";a("f2db")},c9d9:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={ajax:"ajax",wicket:"wicket",edit:"edit"}},cd1c:function(e,t,a){var n=a("e853");e.exports=function(e,t){return new(n(e))(t)}},cfba:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"f",(function(){return o})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return c}));var n=a("b775");function i(e){return Object(n["a"])({url:"/pages/keyword/keywordList",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/pages/keyword/keywordPage",method:"get",params:e})}function r(e){return Object(n["a"])({url:"/pages/keyword/createKeyword",method:"get",params:{group_code:e}})}function s(e){return Object(n["a"])({url:"/pages/keyword/addKeyword",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/pages/keyword/kwDelFlag",method:"post",data:{self_id:e}})}function c(e){return Object(n["a"])({url:"/pages/keyword/kwUseFlag",method:"post",data:{self_id:e}})}},e853:function(e,t,a){var n=a("d3f4"),i=a("1169"),o=a("2b4c")("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},f2db:function(e,t,a){},f9b7:function(e,t,a){"use strict";a("3039")}}]);