(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c1eceae4"],{"22b6":function(e,t,a){},"23ba":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var s=a("b775");function o(e){return Object(s["a"])({url:"company/company/getGroup",method:"get",params:e})}},"32d9":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"table-header header-fixed"},[a("div",{staticClass:"flex-space-between table-title-container"},[a("div",[e._v(e._s(e.title))])])]),e._v(" "),a("div",{staticStyle:{width:"100%",padding:"10px 10px 0px 10px",border:"1px solid #eee",margin:"10px 0","box-shadow":"0 2px 12px 0 rgba(0, 0, 0, 0.1)"}},[a("el-form",{staticStyle:{width:"100%"},attrs:{inline:!0,model:e.form,"label-width":"140px"}},[a("el-input",{staticStyle:{display:"none"},attrs:{placeholder:"身份id"},model:{value:e.form.self_id,callback:function(t){e.$set(e.form,"self_id",t)},expression:"form.self_id"}}),e._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{class:e.form.self_id?"noUse":"",attrs:{label:"公司选择"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"公司选择",disabled:null!=e.form.self_id},model:{value:e.form.group_code,callback:function(t){e.$set(e.form,"group_code",t)},expression:"form.group_code"}},e._l(e.groups,(function(e,t){return a("el-option",{key:t,attrs:{value:e.group_code,label:e.group_name}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{class:e.form.self_id?"noUse":"",attrs:{label:"身份类型"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"身份类型","aria-readonly":"true",disabled:null!=e.form.self_id},on:{change:e.changeType},model:{value:e.form.person_type,callback:function(t){e.$set(e.form,"person_type",t)},expression:"form.person_type"}},e._l(e.person_type,(function(e,t){return a("el-option",{key:t,attrs:{value:e.key,label:e.name}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"姓名"},model:{value:e.form.actual_name,callback:function(t){e.$set(e.form,"actual_name",t)},expression:"form.actual_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"性别"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"性别"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-option",{attrs:{label:"男",value:"男"}}),e._v(" "),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isStudent,expression:"isStudent"}],attrs:{span:24}},[a("el-form-item",{attrs:{label:"英文名字"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"英文名字"},model:{value:e.form.english_name,callback:function(t){e.$set(e.form,"english_name",t)},expression:"form.english_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!e.isStudent,expression:"!isStudent"}],attrs:{label:"电话号码"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"电话号码"},model:{value:e.form.person_tel,callback:function(t){e.$set(e.form,"person_tel",t)},expression:"form.person_tel"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isStudent,expression:"isStudent"}],attrs:{span:24}},[a("el-form-item",{attrs:{label:"学籍号"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"学籍号",disabled:null!=e.form.self_id},model:{value:e.form.identity_card,callback:function(t){e.$set(e.form,"identity_card",t)},expression:"form.identity_card"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isStudent||e.isTeacher,expression:"isStudent || isTeacher"}],attrs:{span:24}},[a("el-form-item",{attrs:{label:"年级名称"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"年级名称"},model:{value:e.form.grade_name,callback:function(t){e.$set(e.form,"grade_name",t)},expression:"form.grade_name"}})],1)],1),e._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:e.isStudent||e.isTeacher,expression:"isStudent || isTeacher"}],attrs:{span:24}},[a("el-form-item",{attrs:{label:"班级名称"}},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"班级名称"},model:{value:e.form.class_name,callback:function(t){e.$set(e.form,"class_name",t)},expression:"form.class_name"}})],1)],1)],1)],1),e._v(" "),a("div",{staticStyle:{width:"100%",margin:"10px 0"}},[a("div",{staticStyle:{width:"150px",margin:"auto",display:"flex"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消")])],1)])],1)],1)])},o=[],r=a("9d0c"),n=a("23ba"),i={components:{},props:{},data:function(){return{title:"新增人员",form:{self_id:"",group_code:"",actual_name:"",english_name:"",person_tel:"",person_type:"student",sex:"男",identity_card:"",grade_name:"",class_name:""},groups:[],isStudent:!0,isTeacher:!0,person_type:[]}},created:function(){var e=this;Object(n["a"])().then((function(t){e.groups=t.data.items})),this.form.self_id=this.$route.query.self_id,this.form.self_id&&(this.title="修改人员"),this.createPerson(this.form.self_id)},methods:{createPerson:function(e){var t=this,a={self_id:e};Object(r["c"])(a).then((function(e){t.person_type=e.data.person_type,e.data.group_info&&(console.log(e.data.group_info),t.form.self_id=e.data.group_info.self_id,t.form.group_code=e.data.group_info.group_code,t.form.actual_name=e.data.group_info.actual_name,t.form.english_name=e.data.group_info.english_name,t.form.person_tel=e.data.group_info.person_tel,t.form.person_type=e.data.group_info.person_type,t.form.sex=e.data.group_info.sex,t.form.identity_card=e.data.group_info.identity_card,t.form.grade_name=e.data.group_info.grade_name,t.form.class_name=e.data.group_info.class_name,console.log(t.form.grade_name),t.changeType(t.form.person_type))}))},changeType:function(e){"student"!=e&&"teacher"!=e&&(this.isStudent=!1,this.isTeacher=!1,this.form.english_name="",this.form.identity_card="",this.form.grade_name="",this.form.class_name=""),"student"==e&&(this.isStudent=!0,this.isTeacher=!1,this.form.person_tel=""),"teacher"==e&&(this.isStudent=!1,this.isTeacher=!0,this.form.english_name="",this.form.identity_card="")},onSubmit:function(){var e=this;console.log(this.form.person_type),this.form.group_code?"student"!=this.form.person_type||this.form.identity_card?this.form.actual_name&&(this.form.person_tel||"student"==this.form.person_type)?Object(r["b"])(this.form).then((function(t){e.$message({message:"".concat(e.title,"成功！"),type:"success",center:!0}),setTimeout((function(){e.$router.go(-1)}),1e3)})):this.$message({message:"姓名不能为空",type:"warning",center:!0}):this.$message({message:"请填写学生学籍号",type:"warning",center:!0}):this.$message({message:"请选择公司",type:"warning",center:!0})}},computed:{},mounted:function(){}},l=i,c=(a("dd4d"),a("2877")),d=Object(c["a"])(l,s,o,!1,null,"0a9b39be",null);t["default"]=d.exports},dd4d:function(e,t,a){"use strict";a("22b6")}}]);