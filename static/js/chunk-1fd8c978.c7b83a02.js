(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fd8c978"],{"09f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),Math.easeInOutQuad=function(e,t,n,r){return e/=r/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)};var r=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function s(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function a(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(e,t,n){var o=a(),i=e-o,l=20,d=0;t="undefined"===typeof t?500:t;var c=function e(){d+=l;var a=Math.easeInOutQuad(d,o,i,t);s(a),d<t?r(e):n&&"function"===typeof n&&n()};c()}},"0a49":function(e,t,n){var r=n("9b43"),s=n("626a"),a=n("4bf8"),o=n("9def"),i=n("cd1c");e.exports=function(e,t){var n=1==e,l=2==e,d=3==e,c=4==e,_=6==e,m=5==e||_,f=t||i;return function(t,i,h){for(var p,u,g=a(t),y=s(g),v=r(i,h,3),k=o(y.length),b=0,w=n?f(t,k):l?f(t,0):void 0;k>b;b++)if((m||b in y)&&(p=y[b],u=v(p,b,g),e))if(n)w[b]=u;else if(u)switch(e){case 3:return!0;case 5:return p;case 6:return b;case 2:w.push(p)}else if(c)return!1;return _?-1:d||c?c:w}}},1169:function(e,t,n){var r=n("2d95");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"2f75":function(e,t,n){},5582:function(e,t,n){"use strict";n("2f75")},6724:function(e,t,n){"use strict";n("8d41");var r="@@wavesContext";function s(e,t){function n(n){var r=Object.assign({},t.value),s=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},r),a=s.ele;if(a){a.style.position="relative",a.style.overflow="hidden";var o=a.getBoundingClientRect(),i=a.querySelector(".waves-ripple");switch(i?i.className="waves-ripple":(i=document.createElement("span"),i.className="waves-ripple",i.style.height=i.style.width=Math.max(o.width,o.height)+"px",a.appendChild(i)),s.type){case"center":i.style.top=o.height/2-i.offsetHeight/2+"px",i.style.left=o.width/2-i.offsetWidth/2+"px";break;default:i.style.top=(n.pageY-o.top-i.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",i.style.left=(n.pageX-o.left-i.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return i.style.backgroundColor=s.color,i.className="waves-ripple z-active",!1}}return e[r]?e[r].removeHandle=n:e[r]={removeHandle:n},n}var a={bind:function(e,t){e.addEventListener("click",s(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[r].removeHandle,!1),e.addEventListener("click",s(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[r].removeHandle,!1),e[r]=null,delete e[r]}},o=function(e){e.directive("waves",a)};window.Vue&&(window.waves=a,Vue.use(o)),a.install=o;t["a"]=a},7514:function(e,t,n){"use strict";var r=n("5ca1"),s=n("0a49")(5),a="find",o=!0;a in[]&&Array(1)[a]((function(){o=!1})),r(r.P+r.F*o,"Array",{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(a)},"8d41":function(e,t,n){},"8fd4":function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"j",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return m})),n.d(t,"g",(function(){return f}));var r=n("b775");function s(e){return Object(r["a"])({url:"/tms/order/orderList",method:"get",params:e})}function a(e){return Object(r["a"])({url:"/tms/type/getType",method:"get",params:e})}function o(e){return Object(r["a"])({url:"/tms/order/orderPage",method:"get",params:e})}function i(e){return Object(r["a"])({url:"/tms/order/addOrder",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/tms/order/createOrder",method:"post",data:{self_id:e}})}function d(e){return Object(r["a"])({url:"/tms/order/orderDelFlag",method:"post",data:{self_id:e}})}function c(e){return Object(r["a"])({url:"/tms/order/details",method:"get",params:{self_id:e}})}function _(e){return Object(r["a"])({url:"/tms/order/add_order",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/tms/line/count_price",method:"post",data:e})}function f(e){return Object(r["a"])({url:"/tms/line/line_list",method:"post",data:e})}},aa77:function(e,t,n){var r=n("5ca1"),s=n("be13"),a=n("79e5"),o=n("fdef"),i="["+o+"]",l="​",d=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),_=function(e,t,n){var s={},i=a((function(){return!!o[e]()||l[e]()!=l})),d=s[e]=i?t(m):o[e];n&&(s[n]=d),r(r.P+r.F*i,"String",s)},m=_.trim=function(e,t){return e=String(s(e)),1&t&&(e=e.replace(d,"")),2&t&&(e=e.replace(c,"")),e};e.exports=_},c5f6:function(e,t,n){"use strict";var r=n("7726"),s=n("69a8"),a=n("2d95"),o=n("5dbc"),i=n("6a99"),l=n("79e5"),d=n("9093").f,c=n("11e9").f,_=n("86cc").f,m=n("aa77").trim,f="Number",h=r[f],p=h,u=h.prototype,g=a(n("2aeb")(u))==f,y="trim"in String.prototype,v=function(e){var t=i(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():m(t,3);var n,r,s,a=t.charCodeAt(0);if(43===a||45===a){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:r=2,s=49;break;case 79:case 111:r=8,s=55;break;default:return+t}for(var o,l=t.slice(2),d=0,c=l.length;d<c;d++)if(o=l.charCodeAt(d),o<48||o>s)return NaN;return parseInt(l,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(g?l((function(){u.valueOf.call(n)})):a(n)!=f)?o(new p(v(t)),n,h):v(t)};for(var k,b=n("9e1e")?d(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)s(p,k=b[w])&&!s(h,k)&&_(h,k,c(p,k));h.prototype=u,u.constructor=h,n("2aba")(r,f,h)}},cd1c:function(e,t,n){var r=n("e853");e.exports=function(e,t){return new(r(e))(t)}},e853:function(e,t,n){var r=n("d3f4"),s=n("1169"),a=n("2b4c")("species");e.exports=function(e){var t;return s(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!s(t.prototype)||(t=void 0),r(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?Array:t}},ee82:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-card",{staticClass:"box-card",staticStyle:{"min-width":"1000px",width:"100%"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("div",[e._v("订单信息")])]),e._v(" "),n("el-form",{ref:"form",staticStyle:{"margin-top":"10px","min-width":"1750px","min-height":"730px"},attrs:{model:e.form,"label-width":"190px",rules:e.rules}},[n("div",[e._v("基础信息")]),e._v(" "),n("div",[n("el-row",{staticStyle:{"text-align":"center",width:"100%",margin:"auto"}},[n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"所属公司",prop:"group_code"}},[n("el-row",[n("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:"",filterable:"",disabled:null!=e.self_id},on:{change:e.getCompany},model:{value:e.form.group_code,callback:function(t){e.$set(e.form,"group_code",t)},expression:"form.group_code"}},e._l(e.groupOption,(function(e){return n("el-option",{key:e.key,attrs:{label:e.group_name,value:e.group_code}})})),1)],1)],1)],1),e._v(" "),n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"客户",prop:"company_id"}},[n("el-row",[n("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:"",filterable:"",disabled:null!=e.self_id},on:{change:e.getContacts_add},model:{value:e.form.company_id,callback:function(t){e.$set(e.form,"company_id",t)},expression:"form.company_id"}},e._l(e.tmscompanyOption,(function(e){return n("el-option",{key:e.key,attrs:{label:e.company_name,value:e.self_id}})})),1)],1)],1)],1)],1),e._v(" "),n("el-row",{staticStyle:{"text-align":"center",width:"100%",margin:"auto"}},[n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"订单类型",prop:"order_type"}},[n("el-row",[n("el-radio-group",{on:{change:e.onChanged_order_type},model:{value:e.form.order_type,callback:function(t){e.$set(e.form,"order_type",t)},expression:"form.order_type"}},["company"!=e.user?n("div",e._l(e.orderTypeOptions,(function(t){return n("el-radio",{key:t.key,staticStyle:{"margin-left":"10px"},attrs:{label:t.key}},[e._v("\n                      "+e._s(t.name))])})),1):e._e(),e._v(" "),"company"==e.user?n("div",e._l(e.orderTypeOptions,(function(t){return"line"!=t.key?n("el-radio",{key:t.key,staticStyle:{"margin-left":"10px"},attrs:{label:t.key}},[e._v("\n                      "+e._s(t.name))]):e._e()})),1):e._e()])],1)],1)],1),e._v(" "),"vehicle"==e.order_type?n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"车型",prop:"car_models"}},[n("el-row",[n("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:"请选择车型",clearable:"",filterable:""},model:{value:e.form.car_models,callback:function(t){e.$set(e.form,"car_models",t)},expression:"form.car_models"}},e._l(e.carModellist,(function(e,t){return n("el-option",{key:t,attrs:{label:e.parame_name,value:e.self_id}})})),1)],1)],1)],1):e._e(),e._v(" "),"line"==e.order_type?n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"线路",prop:"line_prop"}},[n("el-row",{},[n("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:"请选择线路",clearable:"",filterable:""},on:{change:e.onChangeLine},model:{value:e.line_id,callback:function(t){e.line_id=t},expression:"line_id"}},e._l(e.lineList,(function(e,t){return n("el-option",{key:t,attrs:{label:e.send_shi_name+"->"+e.gather_shi_name+"--"+e.week,value:t}})})),1)],1)],1)],1):e._e()],1),e._v(" "),n("div",[e._v("费用信息")]),e._v(" "),n("el-row",{staticStyle:{"text-align":"center",width:"100%",margin:"auto"}},[n("el-col",{attrs:{span:7}},["vehicle"==e.order_type?n("el-form-item",{attrs:{label:e.pick_title,prop:"pick_flag"}},[n("el-row",[n("el-radio-group",{on:{change:e.onChange_pick_flag},model:{value:e.form.pick_flag,callback:function(t){e.$set(e.form,"pick_flag",t)},expression:"form.pick_flag"}},e._l(e.pickFlagOptions_veh,(function(t){return n("el-radio",{key:t.key,staticStyle:{"margin-left":"30px",right:"30px","text-align":"center"},attrs:{label:t.key},model:{value:e.form.pick_flag,callback:function(t){e.$set(e.form,"pick_flag",t)},expression:"form.pick_flag"}},[e._v("\n                    "+e._s(t.name)+"\n                  ")])})),1)],1)],1):e._e()],1),e._v(" "),n("el-col",{attrs:{span:7}},["vehicle"==e.order_type?n("el-form-item",{attrs:{label:e.send_title,prop:"send_flag"}},[n("el-row",[n("el-radio-group",{on:{change:e.onChange_send_flag},model:{value:e.form.send_flag,callback:function(t){e.$set(e.form,"send_flag",t)},expression:"form.send_flag"}},e._l(e.sendFlagOptions_veh,(function(t){return n("el-radio",{key:t.key,staticStyle:{"margin-left":"30px",right:"30px","text-align":"center"},attrs:{label:t.key}},[e._v("\n                    "+e._s(t.name)+"\n                  ")])})),1)],1)],1):e._e()],1)],1),e._v(" "),"company"!=e.user||"lcl"!=e.order_type?n("el-row",{staticStyle:{"text-align":"center",width:"100%",margin:"auto"}},["lcl"==e.order_type||"Y"==e.form.pick_flag&&"vehicle"==e.order_type||"Y"==e.form.pick_flag&&"Y"==e.line_pick_type&&"line"==e.order_type&&e.select_line_id?n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:e.pick_title_money}},[n("el-input",{staticClass:"filter-item",attrs:{placeholder:e.pick_title_money},model:{value:e.form.pick_money,callback:function(t){e.$set(e.form,"pick_money",t)},expression:"form.pick_money"}})],1)],1):e._e(),e._v(" "),"lcl"==e.order_type||"Y"==e.form.send_flag&&"vehicle"==e.order_type||"Y"==e.form.send_flag&&"Y"==e.line_send_type&&"line"==e.order_type&&e.select_line_id?n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:e.send_title_money}},[n("el-input",{staticClass:"filter-item",attrs:{placeholder:e.send_title_money},model:{value:e.form.send_money,callback:function(t){e.$set(e.form,"send_money",t)},expression:"form.send_money"}})],1)],1):e._e()],1):e._e(),e._v(" "),n("el-row",{staticStyle:{"text-align":"center",width:"100%",margin:"auto"}},[n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"运输费(元)",prop:"price"}},[n("el-input",{staticClass:"filter-item",attrs:{placeholder:"请输入运费费"},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1)],1),e._v(" "),"company"!=e.user||"lcl"!=e.order_type?n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"多点提配费(元)"}},[n("el-input",{staticClass:"filter-item",attrs:{placeholder:"请输入多点提配费"},model:{value:e.form.more_money,callback:function(t){e.$set(e.form,"more_money",t)},expression:"form.more_money"}})],1)],1):e._e()],1),e._v(" "),n("el-row",{staticStyle:{"text-align":"center",width:"100%",margin:"auto"}},[n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"费用总计",prop:"total_money"}},[n("span",{staticStyle:{"font-size":"20px",color:"red"}},[e._v(e._s(e.total_money))])])],1)],1),e._v(" "),n("div",[e._v("地址信息")]),e._v(" "),n("el-row",e._l(e.form.dynamicItem,(function(t,r){return n("el-row",{key:r},["vehicle"==e.order_type||"lcl"==e.order_type||"line"==e.order_type&&"Y"==e.form.pick_flag?n("el-row",{class:[r>0?"set_top_border":""],staticStyle:{"text-align":"center",width:"100%",margin:"auto"}},[n("el-col",{directives:[{name:"show",rawName:"v-show",value:t.selAddress,expression:"item.selAddress"}],attrs:{span:7}},[n("el-form-item",{attrs:{label:"发货地址",prop:"send_address_id"}},[n("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:"",disabled:null!=e.form.self_id},on:{change:function(t){return e.send_address1(r)}},model:{value:t.send_address_id,callback:function(n){e.$set(t,"send_address_id",n)},expression:"item.send_address_id"}},e._l(e.addressOptions,(function(e){return n("el-option",{key:e.key,attrs:{label:e.shi_name+e.qu_name+e.address+e.contacts+e.tel,value:e.self_id}})})),1)],1)],1),e._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:t.selAddress,expression:"item.selAddress"}],attrs:{span:7}},[n("el-form-item",{attrs:{label:"",prop:"send_address"}})],1),e._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:t.add_Address,expression:"item.add_Address"}],attrs:{span:7}},[n("el-form-item",{attrs:{label:"发货地址",required:""}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-select",{staticClass:"filter-item",attrs:{placeholder:"全国",clearable:""},on:{change:function(t){return e.onProChanged_send(r)}},model:{value:t.send_sheng,callback:function(n){e.$set(t,"send_sheng",n)},expression:"item.send_sheng"}},e._l(e.proOptions_send,(function(e){return n("el-option",{key:e.self_id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-select",{staticClass:"filter-item",attrs:{placeholder:"全市",clearable:""},on:{change:function(t){return e.onCityChanged_send(r)}},model:{value:t.send_shi,callback:function(n){e.$set(t,"send_shi",n)},expression:"item.send_shi"}},e._l(e.cityOptions_send,(function(e){return n("el-option",{key:e.self_id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-select",{staticClass:"filter-item",attrs:{placeholder:"全区",clearable:""},on:{change:function(t){return e.onareaOptions_send(r)}},model:{value:t.send_qu,callback:function(n){e.$set(t,"send_qu",n)},expression:"item.send_qu"}},e._l(e.areaOptions_send,(function(e){return n("el-option",{key:e.self_id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"联系人",prop:"send_contacts_name"}},[n("el-input",{staticClass:"filter-item",attrs:{placeholder:"请输入联系人"},model:{value:t.send_name,callback:function(n){e.$set(t,"send_name",n)},expression:"item.send_name"}})],1)],1),e._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:t.add_Address,expression:"item.add_Address"}],attrs:{span:7}},[n("el-form-item",{attrs:{label:"详细地址",prop:"send_address"}},[n("el-input",{staticClass:"filter-item",staticStyle:{float:"left"},attrs:{placeholder:"详细地址"},model:{value:t.send_address,callback:function(n){e.$set(t,"send_address",n)},expression:"item.send_address"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"联系电话",prop:"send_contacts_tel"}},[n("el-input",{staticClass:"filter-item",attrs:{placeholder:"请输入联系电话"},model:{value:t.send_tel,callback:function(n){e.$set(t,"send_tel",n)},expression:"item.send_tel"}})],1)],1),e._v(" "),n("el-col",{staticStyle:{float:"left"},attrs:{span:7}},[n("el-col",{attrs:{span:4}},[n("el-form-item",{attrs:{prop:"send_address"}},[n("el-checkbox",{staticStyle:{float:"left",right:"10px"},attrs:{data:r},on:{change:function(t){return e.handleCheckedAddChange_send(t,r)}},model:{value:t.checked_1,callback:function(n){e.$set(t,"checked_1",n)},expression:"item.checked_1"}},[e._v("\n                      新增地址")])],1)],1),e._v(" "),0==r?n("el-col",{attrs:{span:12}},[n("el-form-item",["vehicle"!=e.order_type&&"lcl"!=e.order_type&&("line"!=e.order_type||"Y"!=e.line_pick_type&&"Y"!=e.line_send_type||"Y"!=e.form.pick_flag&&"Y"!=e.form.send_flag)?e._e():n("el-button",{staticStyle:{float:"left",left:"100px"},attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.onAddClick()}}},[e._v("\n                      新增")])],1)],1):e._e()],1)],1):e._e(),e._v(" "),"vehicle"==e.order_type||"lcl"==e.order_type||"line"==e.order_type&&"Y"==e.form.send_flag?n("el-row",{staticStyle:{"text-align":"center",width:"100%",margin:"auto"}},[n("el-col",{directives:[{name:"show",rawName:"v-show",value:t.selgatherAddress,expression:"item.selgatherAddress"}],attrs:{span:7}},[n("el-form-item",{attrs:{label:"收货地址",prop:"gather_address_id"}},[n("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:"",disabled:null!=e.form.self_id},on:{change:function(t){return e.gather_address1(r)}},model:{value:t.gather_address_id,callback:function(n){e.$set(t,"gather_address_id",n)},expression:"item.gather_address_id"}},e._l(e.addressOptions,(function(e){return n("el-option",{key:e.key,attrs:{label:e.shi_name+e.qu_name+e.address+e.contacts+e.tel,value:e.self_id}})})),1)],1)],1),e._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:t.selgatherAddress,expression:"item.selgatherAddress"}],attrs:{span:7}},[n("el-form-item",{attrs:{label:"",prop:"send_address"}})],1),e._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:t.add_gatherAddress,expression:"item.add_gatherAddress"}],attrs:{span:7}},[n("el-form-item",{attrs:{label:"收货地址",required:""}},[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-select",{staticClass:"filter-item",attrs:{placeholder:"全国",clearable:""},on:{change:function(t){return e.onProChanged_gather(r)}},model:{value:t.gather_sheng,callback:function(n){e.$set(t,"gather_sheng",n)},expression:"item.gather_sheng"}},e._l(e.proOptions_gather,(function(e){return n("el-option",{key:e.self_id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-select",{staticClass:"filter-item",attrs:{placeholder:"全市",clearable:""},on:{change:function(t){return e.onCityChanged_gather(r)}},model:{value:t.gather_shi,callback:function(n){e.$set(t,"gather_shi",n)},expression:"item.gather_shi"}},e._l(e.cityOptions_gather,(function(e){return n("el-option",{key:e.self_id,attrs:{label:e.name,value:e.id}})})),1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-select",{staticClass:"filter-item",attrs:{placeholder:"全区",clearable:""},on:{change:function(t){return e.onareaOptions_gather(r)}},model:{value:t.gather_qu,callback:function(n){e.$set(t,"gather_qu",n)},expression:"item.gather_qu"}},e._l(e.areaOptions_gather,(function(e){return n("el-option",{key:e.self_id,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"收货人",prop:"gather_contacts_name"}},[n("el-input",{staticClass:"filter-item",attrs:{placeholder:"请输入联系人"},model:{value:t.gather_name,callback:function(n){e.$set(t,"gather_name",n)},expression:"item.gather_name"}})],1)],1),e._v(" "),n("el-col",{directives:[{name:"show",rawName:"v-show",value:t.add_gatherAddress,expression:"item.add_gatherAddress"}],attrs:{span:7}},[n("el-form-item",{attrs:{label:"详细地址",prop:"send_address"}},[n("el-input",{staticClass:"filter-item",staticStyle:{float:"left"},attrs:{placeholder:"详细地址"},model:{value:t.gather_address,callback:function(n){e.$set(t,"gather_address",n)},expression:"item.gather_address"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"联系电话",prop:"gather_contacts_tel"}},[n("el-input",{staticClass:"filter-item",attrs:{placeholder:"请输入联系电话"},model:{value:t.gather_tel,callback:function(n){e.$set(t,"gather_tel",n)},expression:"item.gather_tel"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{prop:"send_address"}},[n("el-checkbox",{staticStyle:{float:"left",right:"10px"},attrs:{data:r},on:{change:function(t){return e.handleCheckedAddChange_gather(t,r)}},model:{value:t.checked_2,callback:function(n){e.$set(t,"checked_2",n)},expression:"item.checked_2"}},[e._v("\n                    新增地址")])],1)],1)],1):e._e(),e._v(" "),n("el-row",{staticStyle:{"text-align":"center",width:"100%",margin:"auto","margin-top":"10px"}},[n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"货物名称",prop:"good_name"}},[n("el-input",{staticClass:"filter-item",attrs:{placeholder:"请输入货物名称"},model:{value:t.good_name,callback:function(n){e.$set(t,"good_name",n)},expression:"item.good_name"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"货物数量(件)",prop:"good_number"}},[n("el-input",{staticClass:"filter-item",attrs:{placeholder:"请输入货物数量(件)"},model:{value:t.good_number,callback:function(n){e.$set(t,"good_number",n)},expression:"item.good_number"}})],1)],1)],1),e._v(" "),n("el-row",{staticStyle:{"text-align":"center",width:"100%",margin:"auto"}},["vehicle"==e.order_type?n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"货物重量(吨)",prop:"good_weight"}},[n("el-input",{staticClass:"filter-item",attrs:{placeholder:"请输入货物重量（吨）"},model:{value:t.good_weight,callback:function(n){e.$set(t,"good_weight",n)},expression:"item.good_weight"}})],1)],1):e._e(),e._v(" "),"vehicle"!=e.order_type?n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"货物重量(kg)",prop:"good_weight"}},[n("el-input",{staticClass:"filter-item",attrs:{placeholder:"请输入货物重量（Kg）"},model:{value:t.good_weight,callback:function(n){e.$set(t,"good_weight",n)},expression:"item.good_weight"}})],1)],1):e._e(),e._v(" "),n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"货物体积(m³)",prop:"good_volume"}},[n("el-input",{staticClass:"filter-item",attrs:{placeholder:"请输入货物体积（m³）"},model:{value:t.good_volume,callback:function(n){e.$set(t,"good_volume",n)},expression:"item.good_volume"}})],1)],1),e._v(" "),e.form.dynamicItem.length>1?n("el-col",{attrs:{span:2}},[n("el-button",{staticClass:"el-icon-delete",staticStyle:{width:"55px","margin-left":"200px"},attrs:{i:"",size:"mini",type:"danger"},on:{click:function(n){return e.onDelClick(t,r)}}})],1):e._e()],1),e._v(" "),n("el-row",{staticStyle:{"text-align":"center",width:"100%",margin:"auto"}},[n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"温控类型",prop:"control"}},[n("el-row",[n("el-select",{staticClass:"filter-item",staticStyle:{width:"100%"},attrs:{placeholder:"温控类型",clearable:""},on:{change:function(t){return e.control(r)}},model:{value:t.control,callback:function(n){e.$set(t,"control",n)},expression:"item.control"}},e._l(e.controlOption,(function(e){return n("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1)],1)],1)],1)],1)],1)})),1),e._v(" "),"vehicle"==e.order_type||"lcl"==e.order_type||"line"==e.order_type&&"Y"==e.form.send_flag?n("el-row",{staticStyle:{"text-align":"center",width:"100%",margin:"auto"}},[n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"发货时间"}},[n("el-row",[n("el-date-picker",{staticStyle:{width:"321px",float:"left","min-width":"321px"},attrs:{clearable:"",type:"datetime",placeholder:"发货时间","value-format":"yyyy-MM-dd hh:mm:ss","picker-options":e.pickerOptions},model:{value:e.form.send_time,callback:function(t){e.$set(e.form,"send_time",t)},expression:"form.send_time"}})],1)],1)],1),e._v(" "),"vehicle"==e.order_type||"line"==e.order_type&&"Y"==e.form.send_flag?n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"送货时间",prop:"depart_time"}},[n("el-row",[n("el-date-picker",{staticStyle:{width:"321px",float:"left","min-width":"321px"},attrs:{clearable:"",type:"datetime",placeholder:"送货时间","value-format":"yyyy-MM-dd hh:mm:ss","picker-options":e.pickerOptions},model:{value:e.form.gather_time,callback:function(t){e.$set(e.form,"gather_time",t)},expression:"form.gather_time"}})],1)],1)],1):e._e()],1):e._e(),e._v(" "),n("el-row",[n("el-row",{staticStyle:{"text-align":"center",width:"100%",margin:"auto","margin-top":"10px"}},[n("el-col",{attrs:{span:7}},[n("el-form-item",{attrs:{label:"备注",prop:""}},[n("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}})],1)],1)],1)],1)],1),e._v(" "),n("el-form-item",{staticStyle:{"text-align":"center","margin-left":"0"}},[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),n("el-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("取消\n        ")])],1)],1)],1)],1)},s=[],a=(n("c5f6"),n("7514"),n("7f7f"),n("ac6a"),n("ade3")),o=n("8fd4"),i=n("6724"),l=n("c24f"),d=(n("333d"),n("a78e"),n("6b7c"),n("94d5"),{components:{},directives:{waves:i["a"]},data:function(){var e;return{order_type:"",lineList:[],line_pick_type:"N",line_send_type:"N",form:(e={group_code:null,company_id:null,order_type:"",car_models:"",control:null,gather_address_id:null,send_address_id:null,good_name:null,good_number:null,good_weight:null,good_volume:null,price:"",total_money:"",send_sheng:"",send_shi:"",send_qu:"",pick_flag:"",send_flag:"",gather_sheng:"",gather_shi:"",gather_qu:"",line_id:null,line_prop:"",send_name:null,send_tel:null,gather_name:null,gather_tel:null},Object(a["a"])(e,"send_address_id",null),Object(a["a"])(e,"gather_address_id",null),Object(a["a"])(e,"send_address",null),Object(a["a"])(e,"gather_address",null),Object(a["a"])(e,"pick_money",""),Object(a["a"])(e,"send_money",""),Object(a["a"])(e,"more_money",""),Object(a["a"])(e,"gather_time",""),Object(a["a"])(e,"send_time",""),Object(a["a"])(e,"gather_address_longitude",null),Object(a["a"])(e,"gather_address_latitude",null),Object(a["a"])(e,"send_address_longitude",null),Object(a["a"])(e,"send_address_latitude",null),Object(a["a"])(e,"dynamicItem",[{send_contacts_name:"",send_contacts_tel:"",gather_contacts_name:"",gather_contacts_tel:"",gather_address_id:"",send_address_id:"",send_address:"",send_sheng:"",send_shi:"",send_qu:"",gather_address:"",gather_sheng:"",gather_shi:"",gather_qu:"",good_name:"",good_number:"",good_weight:"",good_volume:"",checked_1:!1,checked_2:!1,checked_3:!1,checked_4:!1,selAddress:!0,add_Address:!1,selgatherAddress:!0,add_gatherAddress:!1,selsend_Contacts:!0,addsend_Contacts:!1,selgather_Contacts:!0,addgather_Contacts:!1,s_name:"",s_tel:"",g_name:"",g_tel:"",send_info:null,gather_info:null,send_info_tel:null,gather_info_tel:null,send_infoList:[],gather_infoList:[],controls:null,control:null,send_name:null,send_tel:null,gather_name:null,gather_tel:null}]),e),line_id:"",s_name:null,s_tel:null,g_name:null,g_tel:null,pick_title_money:"装货费(元)",send_title_money:"卸货费(元)",pick_title_money_veh:"装货费(元)",send_title_money_veh:"卸货费(元)",pick_title_money_lcl:"提货费(元)",send_title_money_lcl:"配送费(元)",pick_title:"是否装货",send_title:"是否卸货",pick_title_veh:"是否装货",send_title_veh:"是否卸货",pick_title_lcl:"提货方式",send_title_lcl:"配送方式",pickFlagOptions:[{key:"Y",name:"装货"},{key:"N",name:"不装货"}],sendFlagOptions:[{key:"Y",name:"卸货"},{key:"N",name:"不卸货"}],pickFlagOptions_veh:[{key:"Y",name:"装货"},{key:"N",name:"不装货"}],sendFlagOptions_veh:[{key:"Y",name:"卸货"},{key:"N",name:"不卸货"}],pickFlagOptions_lcl:[{key:"Y",name:"上门提货"},{key:"N",name:"自送到点"}],sendFlagOptions_lcl:[{key:"Y",name:"送货上门"},{key:"N",name:"到点自提"}],radio:"1",controlOption:[],proOptions_send:[],cityOptions_send:[],areaOptions_send:[],proOptions_gather:[],cityOptions_gather:[],areaOptions_gather:[],orderTypeOptions:[],tmscompanyOption:[],addressOptions:[],contactsOptions:[],disabled:!1,groupOption:[],checked_1:!1,checked_2:!1,checked_3:!1,checked_4:!1,rules:{group_code:[{required:!0,message:"请选择所属公司",trigger:"change"}],order_type:[{required:!0,message:"请选择订单类型",trigger:"change"}],car_models:[{required:!0,message:"请选择车型",trigger:"change"}],line:[{required:!0,message:"请选择线路",trigger:"change"}],price:[{required:!0,message:"运输费不能为空",trigger:"blur"}],pick_flag:[{required:!0,message:"请选择是否装货/提货方式",trigger:"change"}],send_flag:[{required:!0,message:"请选择是否卸货/配送方式",trigger:"change"}]},self_id:"",select_line_id:"",carModellist:[],remarks:"",pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}},user:null}},computed:{total_money:function(){var e,t,n;"lcl"==this.form.order_type?(t=""==this.form.pick_money?0:this.form.pick_money,n=""==this.form.send_money?0:this.form.send_money):(t="Y"==this.form.pick_flag?""==this.form.pick_money?0:this.form.pick_money:0,n="Y"==this.form.send_flag?""==this.form.send_money?0:this.form.send_money:0);var r=""==this.form.price?0:this.form.price;""==this.form.more_money||this.form.more_money;return e=parseFloat(t)+parseFloat(n)+parseFloat(r),this.form.total_money=e,e}},created:function(){this.getList(),this.tmsAddres_send(),this.tmsAddres_gather(),this.getGroup(),this.getType()},methods:{control:function(e){var t=this,n=parseInt(e);this.controlOption.forEach((function(e){t.form.dynamicItem[n].control==e.key&&(t.form.dynamicItem[n].controls=e.name)}))},send_address1:function(e){var t=this,n=parseInt(e);this.addressOptions.forEach((function(e){e.self_id==t.form.dynamicItem[n].send_address_id&&(t.form.dynamicItem[n].send_info=e.sheng_name+e.shi_name+e.qu_name+e.address,t.form.dynamicItem[n].send_info_tel=e.contacts+e.tel)}))},gather_address1:function(e){var t=this,n=parseInt(e);this.addressOptions.forEach((function(e){e.self_id==t.form.dynamicItem[n].gather_address_id&&(t.form.dynamicItem[n].gather_info=e.sheng_name+e.shi_name+e.qu_name+e.address,t.form.dynamicItem[n].gather_info_tel=e.contacts+e.tel)}))},getList:function(){var e=this;this.self_id=this.$route.query.id,this.listLoading=!0,Object(o["d"])(this.self_id).then((function(t){console.log("表单",t),e.controlOption=t.data.tms_control_type,e.orderTypeOptions=t.data.tms_order_type,e.order_type=e.orderTypeOptions[0]["key"],e.pickFlagOptions_lcl=e.pickFlagOptions_lcl,e.sendFlagOptions_lcl=e.sendFlagOptions_lcl,e.user=t.user,null!=t.data.info&&(e.form.self_id=t.data.info.self_id,e.form.group_code=t.data.info.group_code,e.line_id=t.data.info.line_id,e.form.company_id=t.data.info.company_id,console.log(e.form.company_id),e.getCompany(),e.form.order_type=t.data.info.order_type,e.form.gather_address_id=t.data.info.gather_address_id,e.form.send_address_id=t.data.info.send_address_id,e.form.good_volume=t.data.info.good_volume,e.form.good_name=t.data.info.good_name,e.form.good_number=t.data.info.good_number,e.form.good_weight=t.data.info.good_weight,e.order_type=t.data.info.order_type,e.more_money=t.data.info.more_money,e.form.pick_flag=t.data.info.pick_flag,e.form.send_flag=t.data.info.send_flag,e.form.pick_money=t.data.info.pick_money,e.form.send_money=t.data.info.send_money,e.form.price=t.data.info.price,e.onChange_type(t.data.info.order_type),e.form.dynamicItem=t.data.info.info)}))},getType:function(){var e=this;Object(o["f"])().then((function(t){e.carModellist=t.data.info}))},onAddClick:function(){this.form.dynamicItem.push({send_name:"",send_tel:"",gather_name:"",gather_tel:"",gather_address_id:"",send_address_id:"",send_address:"",send_sheng:"",send_shi:"",send_qu:"",gather_address:"",gather_sheng:"",gather_shi:"",gather_qu:"",good_name:"",good_number:"",good_weight:"",good_volume:"",checked_1:!1,checked_2:!1,checked_3:!1,checked_4:!1,selAddress:!0,add_Address:!1,selgatherAddress:!0,add_gatherAddress:!1,selsend_Contacts:!0,addsend_Contacts:!1,selgather_Contacts:!0,addgather_Contacts:!1,s_name:"",s_tel:"",g_name:"",g_tel:"",send_info:null,gather_info:null,send_info_tel:null,gather_info_tel:null,send_infoList:[],gather_infoList:[]})},onDelClick:function(e,t){this.form.dynamicItem.splice(t,1),console.log(t)},onChangeLine:function(e){var t=this.lineList[e];console.log("line111",t),console.log("1",t.pick_type),console.log("2",t.send_type),t&&(this.line_id=e,this.select_line_id=t.self_id,this.line_pick_type="oneself"==t.pick_type?"N":"Y",this.line_send_type="oneself"==t.send_type?"N":"Y","N"==this.line_pick_type&&(this.form.pick_flag="N"),"N"==this.line_send_type&&(this.form.send_flag="N"))},handleCheckedconChange_send:function(e,t){var n=parseInt(t);e?(this.form.dynamicItem[n].selsend_Contacts=!1,this.form.dynamicItem[n].addsend_Contacts=!0):(this.form.dynamicItem[n].selsend_Contacts=!0,this.form.dynamicItem[n].addsend_Contacts=!1);for(var r=0;r<this.form.dynamicItem.length;r++){var s=this.form.dynamicItem[r];s.send_name="",s.send_tel=""}},handleCheckedconChange_gather:function(e,t){var n=parseInt(t);e?(this.form.dynamicItem[n].selgather_Contacts=!1,this.form.dynamicItem[n].addgather_Contacts=!0):(this.form.dynamicItem[n].selgather_Contacts=!0,this.form.dynamicItem[n].addgather_Contacts=!1);for(var r=0;r<this.form.dynamicItem.length;r++){var s=this.form.dynamicItem[r];s.gather_name="",s.gather_tel=""}},handleCheckedAddChange_send:function(e,t){var n=parseInt(t);e?(this.form.dynamicItem[n].selAddress=!1,this.form.dynamicItem[n].add_Address=!0):(this.form.dynamicItem[n].selAddress=!0,this.form.dynamicItem[n].add_Address=!1);for(var r=0;r<this.form.dynamicItem.length;r++){var s=this.form.dynamicItem[r];s.send_address_id="",s.send_sheng="",s.send_shi="",s.send_qu="",s.send_address=""}},handleCheckedAddChange_gather:function(e,t){console.log(e,t);var n=parseInt(t);e?(this.form.dynamicItem[n].selgatherAddress=!1,this.form.dynamicItem[n].add_gatherAddress=!0):(this.form.dynamicItem[n].selgatherAddress=!0,this.form.dynamicItem[n].add_gatherAddress=!1);for(var r=0;r<this.form.dynamicItem.length;r++){var s=this.form.dynamicItem[r];s.gather_address_id="",s.gather_sheng="",s.gather_shi="",s.gather_qu="",s.gather_address=""}},onChange_pick_flag:function(e){this.form.pick_flag=e,this.order_type},onChange_send_flag:function(e){console.log(e),this.form.send_flag=e,this.order_type},onChanged_order_type:function(e){this.order_type=e,this.onChange_type(e)},onChange_type:function(e){"line"==e&&this.form.group_code&&this.tmsGet_line(),"vehicle"==e?(this.pickFlagOptions=this.pickFlagOptions_veh,this.sendFlagOptions=this.sendFlagOptions_veh,this.pick_title=this.pick_title_veh,this.send_title=this.send_title_veh,this.pick_title_money=this.pick_title_money_veh,this.send_title_money=this.send_title_money_veh):(this.pickFlagOptions=this.pickFlagOptions_lcl,this.sendFlagOptions=this.sendFlagOptions_lcl,this.pick_title=this.pick_title_lcl,this.send_title=this.send_title_lcl,this.pick_title_money=this.pick_title_money_lcl,this.send_title_money=this.send_title_money_lcl)},orderVal:function(){},onProChanged_send:function(e){var t=this,n=parseInt(e);this.cityOptions_send=this.thAddressInfo.filter((function(e){return e.parent_id==t.form.dynamicItem[n].send_sheng})),this.areaOptions_send=[],this.form.city=void 0,this.form.area=void 0,this.proOptions_send.forEach((function(e){t.form.dynamicItem[n].send_sheng==e.id&&(t.form.dynamicItem[n].send_infoList[0]=e.name)}))},onCityChanged_send:function(e){var t=this,n=parseInt(e);this.areaOptions_send=this.thAddressInfo.filter((function(e){return e.parent_id==t.form.dynamicItem[n].send_shi})),this.form.area=void 0,this.cityOptions_send.forEach((function(e){t.form.dynamicItem[n].send_shi==e.id&&(t.form.dynamicItem[n].send_infoList[1]=e.name)}))},onareaOptions_send:function(e){var t=this,n=parseInt(e);this.areaOptions_send.forEach((function(e){t.form.dynamicItem[n].send_qu==e.id&&(t.form.dynamicItem[n].send_infoList[2]=e.name)}))},onProChanged_gather:function(e){var t=this,n=parseInt(e);this.cityOptions_gather=this.thAddressInfo.filter((function(e){return e.parent_id==t.form.dynamicItem[n].gather_sheng})),this.areaOptions_gather=[],this.form.city=void 0,this.form.area=void 0,this.proOptions_gather.forEach((function(e){t.form.dynamicItem[n].send_sheng==e.id&&(t.form.dynamicItem[n].gather_infoList[0]=e.name)}))},onCityChanged_gather:function(e){var t=this,n=parseInt(e);this.areaOptions_gather=this.thAddressInfo.filter((function(e){return e.parent_id==t.form.dynamicItem[n].gather_shi})),this.form.area=void 0,this.cityOptions_gather.forEach((function(e){t.form.dynamicItem[n].gather_shi==e.id&&(t.form.dynamicItem[n].gather_infoList[1]=e.name)}))},onareaOptions_gather:function(e){var t=this,n=parseInt(e);this.areaOptions_gather.forEach((function(e){t.form.dynamicItem[n].gather_qu==e.id&&(t.form.dynamicItem[n].gather_infoList[2]=e.name)}))},tmsAddres_send:function(){var e=this;Object(l["y"])().then((function(t){e.thAddressInfo=t.data.info,e.proOptions_send=e.thAddressInfo.filter((function(e){return 0==e.parent_id}))}))},tmsGet_line:function(){var e=this;console.log("group_code",this.form.group_code);var t=this.form.group_code;Object(l["x"])(t).then((function(t){console.log("res111111111",t),e.lineList=[],e.line_id="",e.select_line_id="",e.line_pick_flag="N",e.line_send_flag="N",e.lineList=t.data.info}))},tmsAddres_gather:function(){var e=this;Object(l["y"])().then((function(t){e.thAddressInfo=t.data.info,e.proOptions_gather=e.thAddressInfo.filter((function(e){return 0==e.parent_id}))}))},getGroup:function(){var e=this;Object(l["l"])().then((function(t){e.groupOption=t.data.items}))},getCompany:function(){var e=this,t=this;Object(l["r"])({group_code:this.form.group_code,type:"customer"}).then((function(n){e.form.company_id=null,e.tmscompanyOption=n.data.info,"line"==e.order_type&&e.form.group_code&&t.tmsGet_line(),e.getContacts_add()}))},getContacts_add:function(){var e=this;Object(l["e"])(this.form.group_code).then((function(t){e.addressOptions=t.data.info,e.form.send_address_id="",e.form.gather_address_id=""}))},change_send:function(e,t){var n={},r=parseInt(t);n=this.contactsOptions.find((function(t){return t.self_id===e})),this.form.dynamicItem[r].s_name=n.contacts,this.form.dynamicItem[r].s_tel=n.tel},change_gather:function(e,t){var n={},r=parseInt(t);n=this.contactsOptions.find((function(t){return t.self_id===e})),this.form.dynamicItem[r].g_name=n.contacts,this.form.dynamicItem[r].g_tel=n.tel},onSubmit:function(){var e=this,t=new Date(this.form.send_time).getTime(),n=new Date(this.form.gather_time).getTime();if(t>=n)this.$message({message:"送货时间不能大于等于发货时间",type:"error",center:!0});else if(this.form.group_code)if(this.form.order_type)if("vehicle"!=this.form.order_type||this.form.car_models)if("line"!=this.form.order_type||this.select_line_id){var r;"lcl"==this.form.order_type&&(this.form.pick_money="",this.form.send_money="",this.form.more_money="");var s=[];if("vehicle"==this.order_type||"lcl"==this.order_type||"line"==this.order_type&&("Y"==this.form.pick_flag||"Y"==this.form.send_flag))for(var a=0;a<this.form.dynamicItem.length;a++){var i=this.form.dynamicItem[a];console.log(i);var l=void 0,d=void 0;if("vehicle"==this.order_type||"lcl"==this.order_type||"line"==this.order_type&&"Y"==this.form.pick_flag){if(1==i.checked_1){if(l=i.send_name,d=i.send_tel,i.send_info=i.send_infoList[0]+i.send_infoList[1]+i.send_infoList[2],i.send_info_tel=l+d,!l)return void this.$message({message:"联系人不能为空",type:"error",center:!0});if(!d)return void this.$message({message:"联系电话不能为空",type:"error",center:!0})}1==i.checked_2&&(c=i.gather_name,_=i.gather_tel,i.gather_info=i.gather_infoList[0]+i.gather_infoList[1]+i.gather_infoList[2],i.gather_info_tel=c+_),l=i.s_name,d=i.s_tel}var c=void 0,_=void 0;if("vehicle"==this.order_type||"lcl"==this.order_type||"line"==this.order_type&&"Y"==this.form.send_flag){if(1==i.checked_4){if(c=i.gather_name,_=i.gather_tel,!c)return void this.$message({message:"联系人不能为空22222",type:"error",center:!0});if(!_)return void this.$message({message:"联系电话不能为空",type:"error",center:!0})}c=i.g_name,_=i.g_tel}if(!i.good_name)return void this.$message({message:"货物名称不能为空",type:"error",center:!0});if(!i.good_number)return void this.$message({message:"货物数量不能为空",type:"error",center:!0});if(!i.good_weight)return void this.$message({message:"货物重量不能为空",type:"error",center:!0});if(!i.good_volume)return void this.$message({message:"货物体积不能为空",type:"error",center:!0});if(!i.control)return void this.$message({message:"温控类型不能为空",type:"error",center:!0});var m=void 0;m="vehicle"==this.order_type?1e3*Number(i.good_weight):i.good_weight;var f={send_address_id:i.send_address_id,gather_address_id:i.gather_address_id,send_qu:i.send_qu,send_address:i.send_address,gather_qu:i.gather_qu,gather_address:i.gather_address,send_name:i.send_name,send_tel:i.send_tel,gather_name:i.gather_name,gather_tel:i.gather_tel,good_name:i.good_name,good_number:i.good_number,good_weight:m,good_volume:i.good_volume,clod:i.control,send_info:i.send_info,gather_info:i.gather_info,send_info_tel:i.send_info_tel,gather_info_tel:i.gather_info_tel,clod_name:i.controls};s.push(f),console.log(s)}var h=this;if("line"!=this.order_type&&"lcl"!=this.order_type){if(!this.form.pick_flag)return void this.$message({message:"请选择"+h.pick_title,type:"error",center:!0});if(!this.form.send_flag)return void this.$message({message:"请选择"+h.send_title,type:"error",center:!0})}if(this.form.price){if("line"==this.order_type&&"N"==this.form.pick_type&&"N"==this.form.send_type&&(s=[]),"lcl"==this.order_type&&(this.form.pick_type="Y",this.form.send_type="Y"),console.log(s),r={group_code:this.form.group_code,company_id:this.form.company_id,order_type:this.form.order_type,pick_money:"Y"==this.form.pick_flag?this.form.pick_money:0,line_id:this.select_line_id,send_money:"Y"==this.form.send_flag?this.form.send_money:0,total_money:this.form.total_money,more_money:this.form.more_money,price:this.form.total_money,pick_flag:this.form.pick_flag,send_flag:this.form.send_flag,gather_time:this.form.gather_time,send_time:this.form.send_time,remark:this.remarks,dispatcher:s},console.log("idsssss",r),"vehicle"==this.order_type&&(r.car_type=this.form.car_models),"line"==this.order_type&&"N"==this.form.pick_flag&&"N"==this.form.send_flag){var p=this.form.dynamicItem[0];r.good_name=p.good_name,r.good_number=p.good_number,r.good_weight=p.good_weight,r.good_volume=p.good_volume,r.clod=p.control}if("company"!=this.user)Object(o["a"])(r).then((function(t){e.$message({message:t.msg,type:"success",center:!0}),setTimeout((function(){e.$router.go(-1)}),1e3)}));else{var u={};u.order_type=this.form.order_type,u.total_money=this.form.total_money,u.line_price=this.form.total_money,u.send_time=this.form.send_time,u.gather_time=this.form.gather_time,u.pick_price=this.form.pick_money,u.send_price=this.form.send_money,u.remark=this.remarks,u.pick_flag=this.form.pick_flag,u.send_flag=this.form.send_flag,u.car_type=this.form.car_models,u.pick_money=this.form.pick_money,u.send_money=this.form.send_money,u.pay_type="offline",u.group_code=this.form.group_code,u.company_id=this.form.company_id,u.price=this.form.total_money,u.dispatcher=s,Object(o["b"])(u).then((function(t){e.$message({message:t.msg,type:"success",center:!0}),setTimeout((function(){e.$router.go(-1)}),1e3)}))}}else this.$message({message:"运输费不能为空",type:"error",center:!0})}else this.$message({message:"请选择线路",type:"error",center:!0});else this.$message({message:"请选择车型",type:"error",center:!0});else this.$message({message:"请选择订单类型",type:"error",center:!0});else this.$message({message:"请选择所属公司",type:"error",center:!0})},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&(e.temp.id=parseInt(100*Math.random())+1024,e.temp.author="vue-element-admin",createArticle(e.temp).then((function(){e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Created Successfully",type:"success",duration:2e3})})))}))},handleFetchPv:function(e){var t=this;fetchPv(e).then((function(e){t.pvData=e.data.pvData,t.dialogPvVisible=!0}))}}}),c=d,_=(n("5582"),n("2877")),m=Object(_["a"])(c,r,s,!1,null,null,null);t["default"]=m.exports},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);